<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style>
    rect {
        fill: lightblue;
        stroke: black;
    }
</style>

<body onload='init()'>
    <svg width=300 height=300>
    </svg>
    <script>
        async function init() {
            var data = await d3.csv('https://wingchanatibsa.github.io/cs498dv/titanic_dataset.csv');
            console.log(data);

            var margin = 50;
            var width = 200;
            var height = 200;

            var xScale = d3.scaleBand().domain([0,1,2,3,4,5]).range([0, width]);
            var yScale = d3.scaleLinear().domain([0,42]).range([height,0]);

            d3.select('svg').append('g')
            .selectAll('rect')
            .data(data)
            .enter().append('rect')
            .attr('x', function(d, i) {return xScale(i); })
            .attr('y', function(d){ return yScale(d.Age)})
            .attr('width', function(d) {return xScale.bandwidth(); })
            .attr('height', function(d) {return height - yScale(d.Age); });
        }
    </script>
</body>

</html>